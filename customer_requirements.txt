需求：
 
1. **输入格式**：
   - 视频格式：MP4, AVI, 其他？
   - 处理方式：是否需要支持实时摄像头输入，还是仅限于本地视频文件？
 
answer：

 - 视频格式目前只需要支持MP4，处理方式仅限于本地视频文件。
 - 不需要考虑实时摄像头的输入。因为客户主要想通过存量的视频进行打标签，还训练自己的本地模型。
 
额外补充：
 - 视频分辨率一般也不太高，主要还有夜晚的场景，画面也没那么清晰。
 - 目前的视频大小都比较短，大概几分钟左右，主要是一些监控视频。


2. **视频处理流程**：
   - 是否需要对视频进行预处理（降噪、增强等）？
   - 关键帧提取：是否有特定的帧间隔策略，或者采用动态检测（如基于光流、帧差、对象检测等）？
   - 关键帧筛选：你希望通过哪些特征进行筛选？仅基于时间序列，还是需要结合目标检测、行为分析等？

answer：
    - 如果是夜晚的场景，光线不太好的情况下可以对视频进行增强，但是不能太多。因为最后是为了做成训练数据，如果增强太多的话，最后实践情况还是没有办法达到这个效果，最后训练出来的模型也没有办法识别。
    - 关键帧提取：可以采用动态检测主要根据对象检测，然后是帧差来提取，但不需要特定的帧间隔策略。
    - 关键帧筛选：对的。希望结合目标检测、行为分析等进行筛选。比如说如果有人的话，就会进行筛选，人离开也筛选，最后如果没有人就不需要筛选。

 
3. **模型使用**：
   - 你希望在什么阶段使用 `phi-4-mulit-model` 和 `Gemma-3`？
   - SOTA（如 GPT-4o）在这里的具体作用是优化描述、增加推理能力，还是参与关键帧筛选？
   - 你是否有可用的训练数据集，还是希望使用预训练模型？

answer：
    - 主要是用在关键帧筛选阶段，主要是对关键帧进行描述和推理。可以初步使用 `phi-4-mulit-model` 和 `Gemma-3` 进行关键帧筛选。因为他们是开源免费模型，成本上比较可控。
    - SOTA（如 GPT-4o）在这里的具体作用是优化描述、增加推理能力。如果帧太多可以还是进行筛选，或者如果帧不够的话，也可以进行反馈：所给的帧没有构成一个完整的事件。
    - 现在需求就是通过这些视频，太构建图片的训练集。通过多关键帧和标注，来进行本地模型的训练。现在没有可用的训练数据集，主要是希望使用预训练模型。
 
4. **结果输出**：
   - 关键帧是否需要存储为图片，或同时输出文本描述？
   - 事件检测后，是否需要进行可视化展示，例如在原视频上叠加注释？
 
answer：
    - 关键帧需要存储为图片，同时输出文本描述。因为后续会进行标注。
    - 事件检测后，不需要进行可视化展示。只是获取关键帧，后续会通过开源模型和闭源模型进行标注。因为客户主要是想通过存量的视频进行打标签，训练自己的本地模型。

5. **技术实现与部署**：
   - 是否需要GPU加速（如CUDA, TensorRT等）？
   - 运行环境（本地服务器、云端、边缘设备）？
   - 需要支持Docker或其他容器化部署吗？
 
answer：
    - 需要GPU加速（如CUDA, TensorRT等）。因为视频处理和模型推理都比较耗时。
    - 运行环境：本地服务器。因为客户主要是想通过存量的视频进行打标签，训练自己的本地模型。
    - 暂时是POC 阶段，以虚拟机开发为主，通过GPU进行来运行开源模型。暂时不考虑docker

请确认上述细节，我可以据此提供一个完整的端到端 Python 项目。